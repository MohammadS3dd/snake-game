import{o as e,c as t,r as s,a as n,b as o,d as a,F as i,e as r,f as d,w as l,v as u,g as c,h as f}from"./vendor.69a0db92.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(s){const n=new URL(e,location),o=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((s,a)=>{const i=new URL(e,n);if(self[t].moduleMap[i])return s(self[t].moduleMap[i]);const r=new Blob([`import * as m from '${i}';`,`${t}.moduleMap['${i}']=m;`],{type:"text/javascript"}),d=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(r),onerror(){a(new Error(`Failed to import: ${e}`)),o(d)},onload(){s(self[t].moduleMap[i]),o(d)}});document.head.appendChild(d)})),self[t].moduleMap={}}}("/snake-game/assets/");const p={props:{status:status}};p.render=function(s,n,o,a,i,r){return e(),t("div",{class:["w-2 h-2 ",o.status]},null,2)};const m={components:{node:p},setup(){console.log("/// this is just a simple project to test Vue's performance  ///"),console.log("/// take it with a grain of salt  ///");const e=s({frameinterval:1e3,state:"running",food:[],keys:[],frame:0,timing:0,speed:10}),t={w:90,h:30},o=[{status:"off",id:0},{status:"start",id:1},{status:"end",id:2}];for(let s=0;s<t.w*t.h;s++)o[s]={status:"off",id:s};const a=function(e,s){return t.w*e+s},i=function(e){return[parseInt(e/t.w),e%t.w]};o[a(7,2)].status="snake";const r=s(o),d={body:[75],dir:"l"},l=function(){if(1==e.frame&&(d.body.push(d.body[0]),d.body.push(d.body[0])),"lost"==e.state)return;e.frame>65526&&(e.frame=10),e.frame++,e.frameinterval=1e3/e.speed;const s=d.body[0],n=e.keys[0];"w"==n&&"d"!=d.dir?d.dir="u":"a"==n&&"r"!=d.dir?d.dir="l":"s"==n&&"u"!=d.dir?d.dir="d":"d"==n&&"l"!=d.dir&&(d.dir="r");const o=t.w*t.h,l=()=>{d.body.unshift(((s-t.w)%o+o)%o),d.body.pop()},c=()=>{d.body.unshift(((s+t.w)%o+o)%o),d.body.pop()},f=()=>{const e=i(s),n=i(s-1+t.w);d.body.unshift(a(e[0],n[1])),d.body.pop()},p=()=>{const e=i(s),t=i(s+1);d.body.unshift(a(e[0],t[1])),d.body.pop()};"u"==d.dir?l():"d"==d.dir?c():"l"==d.dir?f():"r"==d.dir&&p(),r.forEach((e=>{"snake"==e.status&&(e.status="off")})),d.body.forEach((e=>{var t;t="snake",r[e].status=t})),e.keys.shift(),e.keys.length>2&&(e.keys=[]),e.food.forEach(((t,n)=>{t==d.body[0]&&(e.food.splice(n,1),d.body.push(s),u())}));for(let t=1;t<d.body.length;t++){d.body[t]==d.body[0]&&(e.frameinterval=1e6,e.state="lost")}},u=function(){const s=parseInt(Math.random()*t.w*t.h-1);e.food.push(s),r[s]={id:s,status:"food"}},c=function(t){const s=String.fromCharCode(t.keyCode);e.keys.push(s)},f=function(t){0!==e.timing&&e.timing||(e.timing=t),t-e.timing>e.frameinterval&&(l(),e.timing=t),requestAnimationFrame(f)};return n((()=>{document.addEventListener("keypress",c),u(),f()})),{board:r,canvas:t,toindex:a,change:function(e,t,s){r[a(e,t)].status=s},snake:d,next:l,addFood:u,states:e,keypressed:c}}},h={class:" bg-indigo-100 h-screen w-screen pt-40"},y={class:"flex flex-col justify-center items-center"},b={class:"flex pointer-events-none"},w=a("div",{class:"w-full"},null,-1),g=a("div",{class:"w-full"},null,-1),v={class:"flex justify-center w-screen mt-10"},k={class:"grid grid-cols-3"},x=a("div",{class:"w-20 h-20"},null,-1),j=a("div",{class:"w-20 h-20"},null,-1),C=a("div",{class:"w-20 h-20"},null,-1),L=a("div",{class:"w-20 h-20"},null,-1),U=a("div",{class:"w-20 h-20"},null,-1),E=a("div",{class:"text-indigo-700 my-4 font-bold font-sans"},"you can also use W,A,S,D to move",-1),M={key:0,class:"text-indigo-700 font-bold font-sans"},R={class:"text-indigo-700"},F=c(" speed: ");m.render=function(s,n,c,f,p,m){const $=o("node");return e(),t("div",h,[a("div",y,[a("div",b,[w,a("div",{class:"inline-grid w-full",style:"grid-template-columns: repeat("+f.canvas.w+", 1fr);"},[(e(!0),t(i,null,r(f.board,(s=>(e(),t("div",{key:s.id},[a($,{status:s.status},null,8,["status"])])))),128))],4),g])]),a("div",v,[a("div",k,[x,a("button",{class:"w-20 h-20 rounded-lg bg-indigo-500 text-white flex items-center justify-center focus:outline-none",onClick:n[1]||(n[1]=e=>f.states.keys.push("w"))}," up "),j,a("button",{class:"w-20 h-20 rounded-lg bg-indigo-500 text-white flex items-center justify-center focus:outline-none",onClick:n[2]||(n[2]=e=>f.states.keys.push("a"))}," left "),C,a("button",{class:"w-20 h-20 rounded-lg bg-indigo-500 text-white flex items-center justify-center focus:outline-none",onClick:n[3]||(n[3]=e=>f.states.keys.push("d"))}," right "),L,a("button",{class:"w-20 h-20 rounded-lg bg-indigo-500 text-white flex items-center justify-center focus:outline-none",onClick:n[4]||(n[4]=e=>f.states.keys.push("s"))}," down "),U])]),E,"lost"==f.states.state?(e(),t("h1",M,"you lost . press f5 to continue")):d("",!0),a("label",R,[F,l(a("input",{"onUpdate:modelValue":n[5]||(n[5]=e=>f.states.speed=e),class:"focus:outline-none",type:"range",min:"1",max:"100",name:"",id:""},null,512),[[u,f.states.speed]])])])};const $={name:"App",components:{board:m}};$.render=function(s,n,a,i,r,d){const l=o("board");return e(),t(l)};f($).mount("#app");
